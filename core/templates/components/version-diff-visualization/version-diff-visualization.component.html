<div ng-hide="$ctrl.diffGraphData" class="oppia-align-center">
  Loading
  <loading-dots></loading-dots>
</div>

<div class="version-diff-container">
  <md-card class="version-diff-graph">
    <state-graph-visualization class="e2e-test-history-graph diff-graph"
                               [version-graph-data]="$ctrl.diffGraphData"
                               [node-colors]="$ctrl.diffGraphNodeColors"
                               [node-secondary-labels]="$ctrl.diffGraphSecondaryLabels"
                               [init-state-id2]="$ctrl.v1InitStateId"
                               class="version-diff-container-graph"
                               [link-property-mapping]="$ctrl.DIFF_GRAPH_LINK_PROPERTY_MAPPING"
                               (on-click-function)="$ctrl.onClickStateInDiffGraph($event)">
    </state-graph-visualization>
  </md-card>

  <div class="version-diff-graph">
    <md-card class="legend-graph version-diff-graph" ng-show="$ctrl.diffGraphData">
      <h4 class="exploration-graph-legend-heading">Exploration Graph Legend</h4>
      <state-graph-visualization [version-graph-data]="$ctrl.legendGraph"
                                 [node-colors]="$ctrl.LEGEND_GRAPH_COLORS"
                                 [node-secondary-labels]="$ctrl.LEGEND_GRAPH_SECONDARY_LABELS"
                                 [link-property-mapping]="$ctrl.LEGEND_GRAPH_LINK_PROPERTY_MAPPING"
                                 id="legend-graph">
      </state-graph-visualization>
    </md-card>
  </div>
</div>

<style>
  .version-diff-graph {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .version-diff-container-graph {
    position: absolute;
    top: 0;
  }

  .legend-graph .node rect {
    pointer-events: none;
  }
  .legend-graph {
    position: initial;
    margin-top: 30px;
    right: -100px;
    top: 10px;
  }
  .exploration-graph-legend-heading {
    font-weight: normal;
  }
  version-diff-visualization .diff-graph, version-diff-visualization .legend-graph {
    border: 1px solid #707070;
  }
</style>
